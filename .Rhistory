rm(tscs,airquality)
min(ged$year_cy)
max(ged$year_cy)
min(qog$year)
max(qog$year)
length(unique(ged$country_cy))
length(unique(qog$cname))
?setdiff
setdiff(ged$country_cy,qog$cname)
setdiff(qog$cname,ged$country_cy)
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
ged %>%
{anyDuplicated(select(., country_cy,year_cy)) == 0}
goq %>% filter(duplicated(.,cname,year))
qog %>% filter(duplicated(.,cname,year))
qog %>% filter(duplicated(.[,c("cname","year")]))
qog %>% filter(duplicated(.[,c("cname","year")])) %>%
select(cname,year)
qog %>% filter(duplicated(.[,c("cname","year")])) %>% select(cname,year) %>% print(n = 456)
ged %>%
{anyDuplicated(select(., country_cy,year_cy)) == 0}
qog %>%
filter(duplicated(.[,c("cname","year")])) %>%
unique(cname)
qog %>%
filter(duplicated(.[,c("cname","year")])) |>
unique(cname)
qog %>%
filter(duplicated(.[,c("cname","year")])) -> duplicates
unique(duplicates$cname)
qog %>%
filter(country=="Chile") %>%
head(n=20)
qog %>%
filter(cname=="Chile") %>%
head(n=20)
qog %>%
filter(cname=="Chile") %>%
head()
qog %>%
filter(cname=="Chile") %>%
head()
qog %>%
filter(cname=="Syrian Arab Republic (the)") %>%
head()
qog %>%
filter(cname=="Indonesia") %>%
head()
qog %>%
filter(is.na(ccodecow) & cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)")) -> qog
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 1
library(tidyverse)
theme_set(theme_classic())
ged <- readRDS("/Users/carloknotz/Documents/Data/UCDP_GED/organizedviolencecy_v25_1.rds")
qog <- haven::read_dta("/Users/carloknotz/Documents/Data/QoG/qog_bas_ts_jan25.dta")
# ged %>%
#   filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
#
# qog %>%
#   filter(year>=1989) -> qog
# Chunk 2
head(bst290::ess[,1:5])
# Chunk 3
data(airquality)
head(airquality)
# Chunk 4
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year)
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year) -> tscs
# Chunk 5
library(tidyverse)
tscs %>%
{anyDuplicated(select(., cname)) == 0}
# Chunk 6
tscs %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 8
tscs
# Chunk 9
tscs %>%
mutate(ccode_2d = countrycode::countrycode(sourcevar = ccodealp,
origin = "iso3c",
destination = "iso2c"))
# Chunk 10
rm(tscs,airquality)
# Chunk 12
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
ged %>%
{anyDuplicated(select(., country_cy,year_cy)) == 0}
# Chunk 13
qog %>%
filter(duplicated(.[,c("cname","year")])) -> duplicates
unique(duplicates$cname)
# Chunk 14
qog %>%
filter(cname=="Chile") %>%
head()
qog %>%
filter(cname=="Syrian Arab Republic (the)") %>%
head()
qog %>%
filter(cname=="Indonesia") %>%
head()
qog %>%
filter(!is.na(ccodecow) & cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)")) -> qog
# Chunk 1
library(tidyverse)
theme_set(theme_classic())
ged <- readRDS("/Users/carloknotz/Documents/Data/UCDP_GED/organizedviolencecy_v25_1.rds")
qog <- haven::read_dta("/Users/carloknotz/Documents/Data/QoG/qog_bas_ts_jan25.dta")
# ged %>%
#   filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
#
# qog %>%
#   filter(year>=1989) -> qog
# Chunk 2
head(bst290::ess[,1:5])
# Chunk 3
data(airquality)
head(airquality)
# Chunk 4
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year)
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year) -> tscs
# Chunk 5
library(tidyverse)
tscs %>%
{anyDuplicated(select(., cname)) == 0}
# Chunk 6
tscs %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 8
tscs
# Chunk 9
tscs %>%
mutate(ccode_2d = countrycode::countrycode(sourcevar = ccodealp,
origin = "iso3c",
destination = "iso2c"))
# Chunk 10
rm(tscs,airquality)
# Chunk 12
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
ged %>%
{anyDuplicated(select(., country_cy,year_cy)) == 0}
# Chunk 13
qog %>%
filter(duplicated(.[,c("cname","year")])) -> duplicates
unique(duplicates$cname)
# Chunk 14
qog %>%
filter(cname=="Chile") %>%
head()
qog %>%
filter(cname=="Syrian Arab Republic (the)") %>%
head()
qog %>%
filter(cname=="Indonesia") %>%
head()
qog %>%
filter((!is.na(ccodecow)) & cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)")) -> test
qog %>%
filter((!is.na(ccodecow) & cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)"))) -> test
qog %>%
filter(!(is.na(ccodecow) & cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)"))) -> test
rm(test)
qog %>%
filter(!(is.na(ccodecow) & cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)"))) -> qog
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
qog %>%
filter(duplicated(.[,c("cname","year")])) -> duplicates
unique(duplicates$cname)
# Chunk 1
library(tidyverse)
theme_set(theme_classic())
ged <- readRDS("/Users/carloknotz/Documents/Data/UCDP_GED/organizedviolencecy_v25_1.rds")
qog <- haven::read_dta("/Users/carloknotz/Documents/Data/QoG/qog_bas_ts_jan25.dta")
# ged %>%
#   filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
#
# qog %>%
#   filter(year>=1989) -> qog
# Chunk 2
head(bst290::ess[,1:5])
# Chunk 3
data(airquality)
head(airquality)
# Chunk 4
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year)
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year) -> tscs
# Chunk 5
library(tidyverse)
tscs %>%
{anyDuplicated(select(., cname)) == 0}
# Chunk 6
tscs %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 8
tscs
# Chunk 9
tscs %>%
mutate(ccode_2d = countrycode::countrycode(sourcevar = ccodealp,
origin = "iso3c",
destination = "iso2c"))
# Chunk 10
rm(tscs,airquality)
# Chunk 12
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
ged %>%
{anyDuplicated(select(., country_cy,year_cy)) == 0}
# Chunk 13
qog %>%
filter(duplicated(.[,c("cname","year")])) -> duplicates
unique(duplicates$cname)
# Chunk 14
qog %>%
filter(cname=="Chile") %>%
head()
qog %>%
filter(cname=="Syrian Arab Republic (the)") %>%
head()
qog %>%
filter(cname=="Indonesia") %>%
head()
qog %>%
filter(!(cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)"))) -> qog
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
ged %>%
filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
# Chunk 1
library(tidyverse)
theme_set(theme_classic())
ged <- readRDS("/Users/carloknotz/Documents/Data/UCDP_GED/organizedviolencecy_v25_1.rds")
qog <- haven::read_dta("/Users/carloknotz/Documents/Data/QoG/qog_bas_ts_jan25.dta")
# ged %>%
#   filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
#
# qog %>%
#   filter(year>=1989) -> qog
# Chunk 2
head(bst290::ess[,1:5])
# Chunk 3
data(airquality)
head(airquality)
# Chunk 4
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year)
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year) -> tscs
# Chunk 5
library(tidyverse)
tscs %>%
{anyDuplicated(select(., cname)) == 0}
# Chunk 6
tscs %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 8
tscs
# Chunk 9
tscs %>%
mutate(ccode_2d = countrycode::countrycode(sourcevar = ccodealp,
origin = "iso3c",
destination = "iso2c"))
# Chunk 10
rm(tscs,airquality)
# Chunk 12
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
ged %>%
{anyDuplicated(select(., country_cy,year_cy)) == 0}
# Chunk 13
qog %>%
filter(duplicated(.[,c("cname","year")])) -> duplicates
unique(duplicates$cname)
# Chunk 14
qog %>%
filter(cname=="Chile") %>%
head()
qog %>%
filter(cname=="Syrian Arab Republic (the)") %>%
head()
qog %>%
filter(cname=="Indonesia") %>%
head()
# Chunk 15
qog %>%
filter(!(cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)"))) -> qog
# Chunk 16
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 17
min(ged$year_cy)
max(ged$year_cy)
# Chunk 18
min(qog$year)
max(qog$year)
# Chunk 19
qog %>%
filter(year>=1989) -> qog
# Chunk 20
length(unique(ged$country_cy))
length(unique(qog$cname))
# Chunk 21
setdiff(ged$country_cy,qog$cname)
# Chunk 22
setdiff(qog$cname,ged$country_cy)
ged %>%
filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
head(ged)
head(qog)
ged$ccodecow <- countrycode::countrycode(ged$country_cy,
origin = "country.name.en",
destination = "cown")
ged %>%
relocate(country_cy,year_cy,ccodecow)
ged %>%
filter(ccodecow != country_id_cy)
ged %>%
relocate(country_cy,year_cy,ccodecow) %>%
filter(ccodecow != country_id_cy)
# Chunk 1
library(tidyverse)
theme_set(theme_classic())
ged <- readRDS("/Users/carloknotz/Documents/Data/UCDP_GED/organizedviolencecy_v25_1.rds")
qog <- haven::read_dta("/Users/carloknotz/Documents/Data/QoG/qog_bas_ts_jan25.dta")
# ged %>%
#   filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
#
# qog %>%
#   filter(year>=1989) -> qog
# Chunk 2
head(bst290::ess[,1:5])
# Chunk 3
data(airquality)
head(airquality)
# Chunk 4
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year)
qog %>%
filter(cname %in% c("Norway","Sweden") & year %in% c(1994,1995,1996)) %>%
select(cname,ccodealp,year) -> tscs
# Chunk 5
library(tidyverse)
tscs %>%
{anyDuplicated(select(., cname)) == 0}
# Chunk 6
tscs %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 8
tscs
# Chunk 9
tscs %>%
mutate(ccode_2d = countrycode::countrycode(sourcevar = ccodealp,
origin = "iso3c",
destination = "iso2c"))
# Chunk 10
rm(tscs,airquality)
# Chunk 12
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
ged %>%
{anyDuplicated(select(., country_cy,year_cy)) == 0}
# Chunk 13
qog %>%
filter(duplicated(.[,c("cname","year")])) -> duplicates
unique(duplicates$cname)
rm(duplicates)
# Chunk 14
qog %>%
filter(cname=="Chile") %>%
head()
qog %>%
filter(cname=="Syrian Arab Republic (the)") %>%
head()
qog %>%
filter(cname=="Indonesia") %>%
head()
# Chunk 15
qog %>%
filter(!(cname %in% c("Chile","Indonesia",
"Syrian Arab Republic (the)",
"Congo (the Democratic Republic of the)"))) -> qog
# Chunk 16
qog %>%
{anyDuplicated(select(., cname,year)) == 0}
# Chunk 17
min(ged$year_cy)
max(ged$year_cy)
# Chunk 18
min(qog$year)
max(qog$year)
# Chunk 19
qog %>%
filter(year>=1989) -> qog
# Chunk 20
length(unique(ged$country_cy))
length(unique(qog$cname))
# Chunk 21
setdiff(ged$country_cy,qog$cname)
# Chunk 22
setdiff(qog$cname,ged$country_cy)
# Chunk 23
ged %>%
filter(!(country_cy %in% c("German Democratic Republic","Yemen (South Yemen)","Czechoslovakia"))) -> ged
# Chunk 24
ged$ccodecow <- countrycode::countrycode(ged$country_cy,
origin = "country.name.en",
destination = "cown")
# Chunk 25
ged %>%
relocate(country_cy,year_cy,ccodecow)
ged %>%
left_join(qog, by = c("ccodecow" = "ccodecow",
"year_cy" = "year")) -> merged
279+75
ncol(ged)
ncol(qog)
ncol(merged)
merged %>%
group_by(bmr_dem) %>%
summarise(sumdeaths = sum(cumulative_total_deaths_parties_in_orgvio_cy, na.rm = T)) %>%
drop_na(bmr_dem) %>%
ggplot(aes(x = factor(bmr_dem), y = sumdeaths)) +
geom_col()
ged %>%
group_by(ccodealp) %>%
summarise(sumdeaths = sum(sb_total_deaths_best_cy, na.rm = T),
avg_demo = mean(vdem_libdem, na.rm = T)) %>%
filter(sumdeaths>1000) %>%
ggplot(aes(x = avg_demo, y = sumdeaths)) +
geom_text(aes(label = ccodealp)) +
geom_smooth(method = "lm", se = F)
merged %>%
group_by(ccodealp) %>%
summarise(sumdeaths = sum(sb_total_deaths_best_cy, na.rm = T),
avg_demo = mean(vdem_libdem, na.rm = T)) %>%
filter(sumdeaths>1000) %>%
ggplot(aes(x = avg_demo, y = sumdeaths)) +
geom_text(aes(label = ccodealp)) +
geom_smooth(method = "lm", se = F)
merged %>%
group_by(bmr_dem) %>%
summarise(sumdeaths = sum(cumulative_total_deaths_parties_in_orgvio_cy, na.rm = T)) %>%
drop_na(bmr_dem) %>%
ggplot(aes(x = factor(bmr_dem), y = sumdeaths)) +
geom_col() +
scale_y_continuous(labels = scales::label_number())
merged %>%
group_by(bmr_dem) %>%
summarise(sumdeaths = sum(sb_total_deaths_best_cy, na.rm = T)) %>%
drop_na(bmr_dem) %>%
ggplot(aes(x = factor(bmr_dem), y = sumdeaths)) +
geom_col() +
scale_y_continuous(labels = scales::label_number())
merged %>%
group_by(ccodealp) %>%
summarise(sumdeaths = sum(sb_total_deaths_best_cy, na.rm = T),
avg_demo = mean(vdem_libdem, na.rm = T)) %>%
filter(sumdeaths>1000) %>%
ggplot(aes(x = avg_demo, y = sumdeaths)) +
geom_text(aes(label = ccodealp)) +
geom_smooth(method = "lm", se = F) +
scale_y_continuous(labels = scales::label_number())
frtweets <- read.csv("https://zenodo.org/records/7347479/files/FR-R-MIGR-TWIT-2011-2022_meta.csv?download=1")
fr <- readr::read_csv("https://zenodo.org/records/7347479/files/FR-R-MIGR-TWIT-2011-2022_meta.csv?download=1")
problems(fr)
View(fr)
?readr::read_csv
fr <- readr::read_csv("https://zenodo.org/records/7347479/files/FR-R-MIGR-TWIT-2011-2022_meta.csv?download=1", delim = ";")
?read.csv
fr <- read.csv("https://zenodo.org/records/7347479/files/FR-R-MIGR-TWIT-2011-2022_meta.csv?download=1", sep = ";")
View(fr)
library(dplyr)
fr %>% filter(data__id!="data__id") -> fr
fr %>% filter(data__id!="") -> fr
rm(fr)
