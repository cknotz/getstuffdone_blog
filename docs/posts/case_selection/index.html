<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Carlo Knotz">
<meta name="dcterms.date" content="2025-06-09">
<meta name="description" content="Why you should pay attention to your research design and case selection (unless you want to become a bullshit salesperson)">

<title>Bullshit, research design, and case selection (1) – Testing big ideas with simple methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-b53751a350365c71b6c909e95f209ed1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-d1b12f2568ecbe55642fee6aa00bd082.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-b2511bcbb01c2159fd96a78deb42ffd9.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<script type="ojs-define">
{"contents":[{"name":"plot_dat","value":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],"xvar":[91.5658,93.7705,29.3278,83.2143,64.5328,52.3905,73.9222,14.332,66.0422,70.8014,46.3164,72.1921,93.5326,26.2875,46.767,94.0614,97.8444,12.6312,48.0247,56.4729,90.4991,14.7323,98.9003,94.7202,9.1613,51.907,39.6301,90.6681,45.25,83.7644,74.022,81.2945,39.4227,68.8318,1.3909,83.4587,1.7261,21.5582,90.7535,61.5661,38.5764,44.1414,4.7057,97.3805,43.7434,95.8001,88.8877,64.3579,97.1257,62.265,34.0093,35.3281,40.4501,78.6846,4.8547,75.1307,68.0504,17.9552,26.8477,51.9269,67.8851,98.2989,76.1949,57.0824,85.1193,19.7579,27.8574,82.9877,69.6273,24.8139,5.2559,14.9074,22.4222,48.4605,20.5436,72.2162,1.7806,38.1735,51.9264,1.1555,58.5788,16.6326,36.5438,64.9176,77.8065,56.801,24.1366,9.9081,9.4756,31.2166,67.0752,1.0237,21.6484,93.3704,92.6388,73.6753,33.9741,51.9913,74.6535,62.2968,62.9983,22.4986,22.4402,39.5056,94.3031,96.2982,74.2457,73.5913,54.0404,1.225,61.2848,83.8434,75.4007,45.8204,54.0432,54.2003,1.1367,36.2109,61.6012,83.0653,36.3155,41.6529,57.7741,59.3782,72.2461,40.1023,92.0012,96.2945,24.1188,72.7253,90.4598,60.7439,63.5192,93.8012,85.1978,58.4023,82.319,12.2581,76.6863,62.7377,15.6962,8.9462,46.9429,78.1574,73.6193,81.9058,17.8461,94.5273,30.0688,15.7581,72.2185,33.0845,78.1021,40.0497,68.1807,77.8067,19.599,3.8795,14.4357,68.3363,93.5475,55.4989,60.5749,20.5025,53.9884,18.776,45.7368,32.3883,12.5013,19.4241,73.2433,41.7753,41.9909,48.5507,43.322,14.5125,82.6433,59.6381,79.6453,77.1342,91.8876,86.4003,32.3805,26.6668,74.4844,74.9888,91.8725,79.5259,14.1996,29.4872,20.2729,78.6268,13.7583,13.7798,8.1531,6.2598,53.6556,12.1185,74.5756,73.4002],"yvar":[152.4717,152.8843,41.6116,151.7451,90.6644,87.0708,106.069,36.0797,105.3757,110.2892,77.5192,111.8612,129.6342,45.2961,53.5423,131.8418,134.6158,76.3174,59.5991,92.65,110.7195,16.3588,145.4959,123.4506,31.4243,78.4598,60.3326,102.9649,58.1913,127.3983,121.0418,114.2249,69.2793,122.8831,43.3364,107.8667,20.3978,64.9703,126.396,96.1706,66.9288,61.8615,19.2118,141.2839,68.4712,156.4509,123.8948,93.9498,151.8601,81.9857,61.9011,40.8869,88.0701,114.251,19.0507,95.3396,104.9466,30.4397,45.5573,104.2237,102.2235,126.7969,117.6917,85.9119,135.2493,66.1837,39.9313,130.5544,108.3076,64.4509,23.1232,51.1836,21.8519,105.9175,58.6512,108.0086,0.4906,77.362,92.1559,21.349,95.4953,32.0291,71.2119,105.5668,113.0693,70.9577,60.682,40.698,19.2999,35.102,106.9184,16.1032,50.8497,117.3029,121.411,128.3808,68.5243,93.7864,140.5453,99.8033,68.7339,53.1299,65.6201,100.275,117.226,123.1099,102.2198,96.1783,77.8643,18.7506,78.5877,155.3588,115.8675,76.0139,94.9883,88.3116,19.4396,87.4155,93.746,104.5776,71.1794,66.7934,84.3907,78.2007,116.7331,67.5176,142.7365,136.8526,40.271,129.6601,128.9983,110.1492,81.3753,130.2598,122.457,87.1384,143.1293,34.9812,119.5212,84.2866,28.682,46.1538,97.5558,136.4298,91.3145,153.1317,57.5607,137.7584,68.1401,25.1269,93.8308,62.0914,99.6502,72.9124,124.6915,101.7502,33.4222,25.5478,22.7806,99.6711,150.0257,103.9168,101.4763,17.8547,86.6756,59.4416,89.3689,57.6231,-4.8723,45.1946,120.1604,72.9062,74.8498,87.1619,68.2042,57.7904,130.36,75.9076,140.2803,134.4846,147.2206,103.061,51.9361,62.8662,113.7613,118.9561,171.7345,107.1317,6.0515,60.9645,35.0272,124.9742,25.0122,70.4056,28.3357,20.6647,84.5755,48.0866,114.6796,87.366]}}]}
</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Testing big ideas with simple methods</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About this blog</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Bullshit, research design, and case selection (1)</h1>
                  <div>
        <div class="description">
          Why you should pay attention to your research design and case selection (unless you want to become a bullshit salesperson)
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Case selection</div>
                <div class="quarto-category">Research design</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Carlo Knotz </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 9, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#bullshit-and-you" id="toc-bullshit-and-you" class="nav-link active" data-scroll-target="#bullshit-and-you">Bullshit and you</a></li>
  <li><a href="#bullshit-and-case-selection" id="toc-bullshit-and-case-selection" class="nav-link" data-scroll-target="#bullshit-and-case-selection">Bullshit and case selection</a>
  <ul class="collapse">
  <li><a href="#selection-on-the-dependent-variable" id="toc-selection-on-the-dependent-variable" class="nav-link" data-scroll-target="#selection-on-the-dependent-variable">Selection on the dependent variable</a></li>
  <li><a href="#insufficient-number-of-cases" id="toc-insufficient-number-of-cases" class="nav-link" data-scroll-target="#insufficient-number-of-cases">Insufficient number of cases</a></li>
  <li><a href="#research-and-case-selection-designs-that-avoid-bullshit" id="toc-research-and-case-selection-designs-that-avoid-bullshit" class="nav-link" data-scroll-target="#research-and-case-selection-designs-that-avoid-bullshit">Research and case selection designs that avoid bullshit</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="bullshit-and-you" class="level2">
<h2 class="anchored" data-anchor-id="bullshit-and-you">Bullshit and you</h2>
<p>Most if not all of the methods courses you take as a university student will have some component on “case selection” or “research design”, where you talk about technical and abstract concepts like “bias” and “inference”. While this stuff may sound dry, abstract, academic, and <em>“not relevant in the <strong>Real World</strong>”</em>, it is at its core really about one major thing: How to avoid bullshitting yourself and others.</p>
<p>Bullshit is most likely a term you are familiar with: Claims or statements that sound kind of plausible but are inherently erroneous and misleading <span class="citation" data-cites="Bergstrom2021">(<a href="#ref-Bergstrom2021" role="doc-biblioref">Bergstrom and West 2021</a>)</span>. Bullshit can be intentional, which happens when someone tries to mislead someone, but it can also happen by accident. In either case, bullshit can do serious harm: It can lead people (or companies and institutions) to make decisions that cost them real money, and it can lead them to <em>avoid</em> decisions that would be beneficial. This can range from buying a used car with lots of hidden defects to basing a company’s marketing strategy on biased and misleading customer data.</p>
<p>Bullshit is directly related to evidence. Usually, when people bullshit, they present <em>some</em> evidence – but the evidence they present is flawed: It is incomplete in a distorting way, leaving out a relevant part of the whole picture and thereby misrepresents the true state of the world. By being misleading and biased, such evidence leads others to make irrational and misinformed decisions (“inferences”). Again, this can be intentional, but it can also happen by accident.</p>
<p><strong>Students can produce bullshit, too.</strong> This happens for example when students select cases for the comparative case study they are doing in their thesis project in way that it distorts their result (which happens quite a lot). These students most likely did not want to deceive anyone, they just either did not pay enough attention in their methods courses, they might think that case selection and bias do not apply to qualitative research, or they might simply see a careful case selection and research design as an inconvience they want to skip over. In any case, they are still involuntarily and unknowingly producing bullshit.</p>
<p>As a soon-to-be academically trained professional, a significant part of your future work will be to help others to identify and avoid bullshit (e.g., job applications from people who are unqualified but try to hide it, investment decisions that are financially harmful to your company but beneficial to the seller), but also to produce non-bullshit (valid reports, evaluations, white papers, etc.) that others can use to make good decisions.</p>
<p>And this is why you need to learn about research design and case selection strategies as a student in any empirical scientific discipline – a good research design is simply a strategy for how to select your evidence (quantitative or qualitative) in a way that your project does not produce misleading bullshit. Learning about good research design is also helpful because it trains you to be a bullshit detector.</p>
</section>
<section id="bullshit-and-case-selection" class="level2">
<h2 class="anchored" data-anchor-id="bullshit-and-case-selection">Bullshit and case selection</h2>
<p>As mentioned, comparative case studies can a major source of misleading evidence if they are not based on a proper case selection strategy, i.e., research design <span class="citation" data-cites="King1994">(<a href="#ref-King1994" role="doc-biblioref">King, Keohane, and Verba 1994, Geddes1990</a>)</span>. This is often the case with student theses, but one occasionally also sees this in “adult” research.</p>
<p>We also know two main reasons for why a given case study can be faulty and produces misleading evidence:</p>
<ol type="1">
<li>Selection on the dependent variable</li>
<li>An insufficient number of cases</li>
</ol>
<p>Let’s go over each of them to illustrate how they produce misleading results.</p>
<section id="selection-on-the-dependent-variable" class="level3">
<h3 class="anchored" data-anchor-id="selection-on-the-dependent-variable">Selection on the dependent variable</h3>
<p>Let’s say you are a student who is interested in the causes of war – why do some countries go to war with each other? – and you want to do a qualitative case study to figure out what is going on. Your intuition may then lead you to select two or three relevant cases (wars) where countries did fight each other and look in detail at what led up to each war and why countries chose to engage.</p>
<p>As another example, let’s say you want to find out why some countries become economically wealthy. Intuitively, you decide to select two or three countries that are wealthy and study them really, <em>really</em> closely using super-sophisticated qualitative methods and highly detailed evidence to see what is behind their wealth.</p>
<p>In both cases, you select on the dependent variable, meaning you only select positive cases (did go to war) or “high” cases (high wealth) – but you ignore the negative or “low” cases, the countries that did <em>not</em> go to war or did not become wealthy, even though they plausibly could have done either of those things. Both can really lead you to completely misleading results <span class="citation" data-cites="Geddes1990">(<a href="#ref-Geddes1990" role="doc-biblioref">Geddes 1990</a>)</span>.</p>
<p>To see why selection on the dependent variable distorts your results, have a look at the interactive plot below:</p>
<ul>
<li>The plot shows the relationship between two generic variables, <code>x</code> (the explanatory variable) and <code>y</code> (the dependent variable)</li>
<li>As you can clearly see, the relationship is <em>positive</em>: More <code>x</code> means more <code>y</code></li>
</ul>
<p>Now play around with the three sliders to see how different case selection strategies (limiting the number of cases, i.e., going from large-<em>n</em> quantitative toward small-<em>n</em> qualitative research, limiting the range of the <code>x</code> variable, and limiting the range of the <code>y</code> variable) affects the relationsip between the two variables.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="67" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 66;"><span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>tplot_dat <span class="op">=</span> <span class="fu">transpose</span>(plot_dat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="73" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 72;"><span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>viewof n_obs <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">2</span><span class="op">,</span> <span class="dv">200</span>]<span class="op">,</span> </span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Number of observations:"</span>}</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>viewof range_x <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">1</span><span class="op">,</span><span class="dv">100</span>]<span class="op">,</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Max. range of explanatory variable (X)"</span>}</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>viewof range_y <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">14</span><span class="op">,</span><span class="dv">180</span>]<span class="op">,</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">180</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Max. range of dependent variable (Y)"</span>}</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="89" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 88;"><span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>sliced <span class="op">=</span> tplot_dat<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span>n_obs)</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>filtered <span class="op">=</span> sliced<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(sliced) {</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> range_x <span class="op">&gt;</span> sliced<span class="op">.</span><span class="at">xvar</span> <span class="op">&amp;&amp;</span></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>         range_y <span class="op">&gt;</span> sliced<span class="op">.</span><span class="at">yvar</span><span class="op">;</span></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="97" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 96;"><span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(filtered<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"xvar"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"yvar"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"cornflowerblue"</span>})<span class="op">,</span></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(tplot_dat<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"xvar"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"yvar"</span><span class="op">,</span> <span class="dt">fill</span><span class="op">:</span> <span class="st">"currentColor"</span><span class="op">,</span> <span class="dt">fillOpacity</span><span class="op">:</span> <span class="fl">0.2</span>})<span class="op">,</span></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(filtered<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"xvar"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"yvar"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"cornflowerblue"</span>})<span class="op">,</span></span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(tplot_dat<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"xvar"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"yvar"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"currentColor"</span>})</span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>]<span class="op">,</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Explanatory variable (X)"</span>}<span class="op">,</span></span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Dependent variable (Y)"</span>}<span class="op">,</span></span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> <span class="st">"How the evidence you select affects the answers you get"</span><span class="op">,</span></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>    <span class="dt">caption</span><span class="op">:</span> <span class="st">"Shaded areas indicate 95% confidence intervals."</span></span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="expression">

</div>
</div>
</div>
<p>You should notice that limiting the number of observations is not inherently problematic. Sure, the line becomes wobbly and the confidence interval becomes larger (your conclusions become less certain), but your results still reflect the true relationship reasonably well unless you go for <em>really</em> low numbers of observations. The same applies if you limit the range of the explanatory <code>x</code> variable – the positive relationship stays more or less the same, unless your selection becomes very restrictive.</p>
<p>But things are very different when you limit the range of the <code>y</code> variable: The relationship becomes flatter and flatter – which completely misrepresents the true relationship in the data. The result is bullshit.</p>
<div class="callout callout-style-default callout-note callout-titled" title="The main lesson:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The main lesson:
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you want to find out the causes of war, you need to study cases where war happened – and cases where war <em>could</em> have happened, but did not. Similarly, if you want to find the causes of national wealth, you need to study countries that did get wealthy and those that <em>could</em> have gotten wealthy but did not. You need variation in your dependent variable.</p>
</div>
</div>
</section>
<section id="insufficient-number-of-cases" class="level3">
<h3 class="anchored" data-anchor-id="insufficient-number-of-cases">Insufficient number of cases</h3>
<p>If the example above gave you the idea that limiting the number of cases – going from <em>quant</em> to <em>qual</em> – is not by itself a problem as long as you don’t select on the dependent variable, then that is correct <span class="citation" data-cites="King1994">(see also <a href="#ref-King1994" role="doc-biblioref">King, Keohane, and Verba 1994</a>)</span>: Both qualitative and quantitative studies can produce valid results as long as they are based on a valid research design – and they can both produce misleading bullshit results if the research design is flawed.</p>
<p>Still, there can be situations where your number of cases can be too small.</p>
<p>To give you a really simple example, let’s say you have a friend called Tim who is really into tennis. As is always the case, he sometimes wins matches and sometimes he loses them. You are interested in finding out why – what causes him to win and lose – and you you think that, theoretically speaking, it could be either the weather or the food he had for lunch that makes the difference.</p>
<p>You observe him playing tennis on two different days and note down your results in a table:</p>
<div id="tbl-first" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-first-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: First round of observations
</figcaption>
<div aria-describedby="tbl-first-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Day 1</th>
<th style="text-align: left;">Day 2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Weather</td>
<td style="text-align: left;">Sunny</td>
<td style="text-align: left;">Cloudy</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lunch</td>
<td style="text-align: left;">Meat</td>
<td style="text-align: left;">Fish</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Result</td>
<td style="text-align: left;">Lost</td>
<td style="text-align: left;">Won</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Have a look at the findings: Can you clearly tell why Tim won on day 2 but lost on day 1?</p>
<p>Now imagine that you add a third day of observations and your new results look like this:</p>
<div id="tbl-scnd" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-scnd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Adding a third day of observations
</figcaption>
<div aria-describedby="tbl-scnd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Day 1</th>
<th style="text-align: left;">Day 2</th>
<th style="text-align: left;">Day 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Weather</td>
<td style="text-align: left;">Sunny</td>
<td style="text-align: left;">Cloudy</td>
<td style="text-align: left;">Sunny</td>
</tr>
<tr class="even">
<td style="text-align: left;">Lunch</td>
<td style="text-align: left;">Meat</td>
<td style="text-align: left;">Fish</td>
<td style="text-align: left;">Fish</td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">Result</td>
<td style="text-align: left;">Lost</td>
<td style="text-align: left;">Won</td>
<td style="text-align: left;">Lost</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>Now you should be able to see a pattern: On the two sunny days, Tim lost; on the one cloudy day, however, he won. On the other hand, he had fish on days 2 and 3, and both won and lost on both of these days. So you see a relationship between his tennis success and the weather but no relationship with his food.</p>
<p>The main point is: The first research design in this example, which relied on two cases (days of observations) was <em>indeterminate</em> <span class="citation" data-cites="King1994">(<a href="#ref-King1994" role="doc-biblioref">King, Keohane, and Verba 1994</a>)</span>: It had two few observations or data points relative to the number of variables: two potential reasons (or explanatory variables) and two observations. No ammount of in-depth “looking at the data” is going to tell the answer here because the “dataset” is simply not large enough to reveal a pattern. Once you add a third observation – you have two variables but <em>three</em> cases – the pattern emerges and you can give at least a preliminary answer to the question.</p>
<p>In other words, the first research design produces bullshit: It leads you and others to believe that there is no pattern, when in fact there really is one. The second one is valid because it at least makes it possible for a pattern to emerge and be visible.</p>
<div class="callout callout-style-default callout-note callout-titled" title="The main lesson:">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
The main lesson:
</div>
</div>
<div class="callout-body-container callout-body">
<p>You always need to have one more observations than you have potential causes or explanatory variables. Anything else is likely misleading and will end with an unclear conclusion.</p>
</div>
</div>
</section>
<section id="research-and-case-selection-designs-that-avoid-bullshit" class="level3">
<h3 class="anchored" data-anchor-id="research-and-case-selection-designs-that-avoid-bullshit">Research and case selection designs that avoid bullshit</h3>
<p>By now you should hopefully understand the meaning (and importance) of the following statement: <em>the evidence you select affects the answers you get</em> <span class="citation" data-cites="Geddes1990">(<a href="#ref-Geddes1990" role="doc-biblioref">Geddes 1990</a>)</span>. Faulty selection techniques produce faulty, misleading evidence – bullshit. This applies to both qualitative and quantitative research.</p>
<p>If you want to learn how you can design your research in a way that it does not produce misleading evidence, you are in luck: There are many different textbooks and articles that show you how to do this, for example:</p>
<ul>
<li>Chapter 9 in Ringdal <span class="citation" data-cites="Ringdal2018">(<a href="#ref-Ringdal2018" role="doc-biblioref">2018</a>)</span></li>
<li>Chapters 2 and 3 in Landman <span class="citation" data-cites="Landman2003">(<a href="#ref-Landman2003" role="doc-biblioref">2003</a>)</span></li>
<li>The book by King <em>et al.</em> <span class="citation" data-cites="King1994">(<a href="#ref-King1994" role="doc-biblioref">1994</a>)</span></li>
<li>The article by Geddes <span class="citation" data-cites="Geddes1990">(<a href="#ref-Geddes1990" role="doc-biblioref">1990</a>)</span></li>
<li>The article by Seawright &amp; Gerring <span class="citation" data-cites="Seawright2008">(<a href="#ref-Seawright2008" role="doc-biblioref">2008</a>)</span></li>
<li>The book by Przeworski &amp; Teune <span class="citation" data-cites="Przeworski1970">(<a href="#ref-Przeworski1970" role="doc-biblioref">1970</a>)</span></li>
<li>The book by Gerring <span class="citation" data-cites="Gerring2007">(<a href="#ref-Gerring2007" role="doc-biblioref">2007</a>)</span></li>
</ul>
</section>
<section id="references" class="level3">




</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-Bergstrom2021" class="csl-entry" role="listitem">
Bergstrom, Carl T., and Jevin D. West. 2021. <em>Calling Bullshit: The Art of Skepticism in a Data-Driven World</em>. New York: Penguin Random House.
</div>
<div id="ref-Geddes1990" class="csl-entry" role="listitem">
Geddes, Barbara. 1990. <span>“How the Cases You Choose Affect the Answers You Get: Selection Bias in Comparative Politics.”</span> <em>Political Analysis</em> 2 (1): 131–50.
</div>
<div id="ref-Gerring2007" class="csl-entry" role="listitem">
Gerring, John. 2007. <em>Case Study Research</em>. Cambridge: Cambridge University Press.
</div>
<div id="ref-King1994" class="csl-entry" role="listitem">
King, Gary, Robert O. Keohane, and Sidney Verba. 1994. <em>Designing Social Inquiry. Scientific Inference in Qualitative Research</em>. Princeton: Princeton University Press.
</div>
<div id="ref-Landman2003" class="csl-entry" role="listitem">
Landman, Todd. 2003. <em>Issues and Methods in Comparative Politics: An Introduction</em>. 2nd ed. London &amp; New York: Routledge.
</div>
<div id="ref-Przeworski1970" class="csl-entry" role="listitem">
Przeworski, Adam, and Henry Teune. 1970. <em>The Logic of Comparative Social Inquiry</em>. New York: Wiley.
</div>
<div id="ref-Ringdal2018" class="csl-entry" role="listitem">
Ringdal, Kristen. 2018. <em>Enhet Og Mangfold: Samfunnsvitenskapelig Forskning Og Kvantitativ Metode</em>. 4. ed. Bergen: Fagbokforlaget.
</div>
<div id="ref-Seawright2008" class="csl-entry" role="listitem">
Seawright, Jason, and John Gerring. 2008. <span>“Case Selection Techniques in Case Study Research.”</span> <em>Political Research Quarterly</em> 61 (2): 294–308.
</div>
</div></section></div></main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InRwbG90X2RhdCA9IHRyYW5zcG9zZShwbG90X2RhdClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBuX29icyA9IElucHV0cy5yYW5nZShcbiAgWzIsIDIwMF0sIFxuICB7dmFsdWU6IDIwMCwgc3RlcDogMSwgbGFiZWw6IFwiTnVtYmVyIG9mIG9ic2VydmF0aW9uczpcIn1cbilcbnZpZXdvZiByYW5nZV94ID0gSW5wdXRzLnJhbmdlKFxuICBbMSwxMDBdLFxuICB7dmFsdWU6IDEwMCwgc3RlcDogMSwgbGFiZWw6IFwiTWF4LiByYW5nZSBvZiBleHBsYW5hdG9yeSB2YXJpYWJsZSAoWClcIn1cbilcbnZpZXdvZiByYW5nZV95ID0gSW5wdXRzLnJhbmdlKFxuICBbMTQsMTgwXSxcbiAge3ZhbHVlOiAxODAsIHN0ZXA6IDEsIGxhYmVsOiBcIk1heC4gcmFuZ2Ugb2YgZGVwZW5kZW50IHZhcmlhYmxlIChZKVwifVxuKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoic2xpY2VkID0gdHBsb3RfZGF0LnNsaWNlKDAsbl9vYnMpXG5maWx0ZXJlZCA9IHNsaWNlZC5maWx0ZXIoZnVuY3Rpb24oc2xpY2VkKSB7XG4gIHJldHVybiByYW5nZV94ID4gc2xpY2VkLnh2YXIgJiZcbiAgICAgICAgIHJhbmdlX3kgPiBzbGljZWQueXZhcjtcbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJQbG90LnBsb3Qoe1xuICBtYXJrczogW1xuICAgIFBsb3QuZG90KGZpbHRlcmVkLCB7eDogXCJ4dmFyXCIsIHk6IFwieXZhclwiLCBmaWxsOiBcImNvcm5mbG93ZXJibHVlXCJ9KSxcbiAgICBQbG90LmRvdCh0cGxvdF9kYXQsIHt4OiBcInh2YXJcIiwgeTogXCJ5dmFyXCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIGZpbGxPcGFjaXR5OiAwLjJ9KSxcbiAgICBQbG90LmxpbmVhclJlZ3Jlc3Npb25ZKGZpbHRlcmVkLCB7eDogXCJ4dmFyXCIsIHk6IFwieXZhclwiLCBzdHJva2U6IFwiY29ybmZsb3dlcmJsdWVcIn0pLFxuICAgIFBsb3QubGluZWFyUmVncmVzc2lvblkodHBsb3RfZGF0LCB7eDogXCJ4dmFyXCIsIHk6IFwieXZhclwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCJ9KVxuXSxcbiAgICB4OiB7bGFiZWw6IFwiRXhwbGFuYXRvcnkgdmFyaWFibGUgKFgpXCJ9LFxuICAgIHk6IHtsYWJlbDogXCJEZXBlbmRlbnQgdmFyaWFibGUgKFkpXCJ9LFxuICAgIHRpdGxlOiBcIkhvdyB0aGUgZXZpZGVuY2UgeW91IHNlbGVjdCBhZmZlY3RzIHRoZSBhbnN3ZXJzIHlvdSBnZXRcIixcbiAgICBjYXB0aW9uOiBcIlNoYWRlZCBhcmVhcyBpbmRpY2F0ZSA5NSUgY29uZmlkZW5jZSBpbnRlcnZhbHMuXCJcbn0pXG5cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbl9vYnMnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncmFuZ2VfeCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdyYW5nZV95JykifV19
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../posts/case_selection";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>